<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .btn {
        width: 20px;
        height: 20px;
        background-color: aqua;
        border-radius: 2px;
        border-style: solid;
        border-color: black;
      }
      #n1 {
        width: 100px;
        height: 100px;
        background-image: url("https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1");
        background-size: 100px 100px;
      }
      #n2 {
        width: 100px;
        height: 100px;
        background-image: url("https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1");
        background-size: 100px 100px;
      }
      #n3 {
        width: 100px;
        height: 100px;
        background-image: url("https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1");
        background-size: 100px 100px;
      }
      .infor {
        width: 200px;
        height: 200px;
        display: none;
      }
      .sign_in {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="sign_in">
      <!--登录框-->
      <div>邮箱</div>
      <input type="text" value="" class="email" />
      <div>密码</div>
      <input type="text" value="" class="psd" />
      <botton class="btn">登录</botton>
    </div>
    <div class="infor">
      <!--显示框-->
      <div>登录成功</div>
      <div class="imag" id=""></div>
      <div class="name"></div>
      <div class="age"></div>
      <div class="strengths"></div>
    </div>
    <!--分割线-->
    <script>
      let msg = [
        {
          name: "张三",
          age: 20,
          strengths: "JavaScript",
          avatar:
            "https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1",
          email: "yunding@qq.com",
          password: 33333,
        },
        {
          name: "李四",
          age: 19,
          strengths: "python",
          avatar:
            "https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1",
          email: "12345678@163.com",
          password: 11111,
        },
        {
          name: "王五",
          age: 18,
          strengths: "Java",
          avatar:
            "https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1",
          email: "yundingshuyuan@qq.cn",
          password: 222222,
        },
      ];
      //分割线
      var em = document.querySelector("input");
      var psd = document.querySelector(".psd");
      var btn = document.querySelector("botton");
      var sign = document.querySelector(".sign_in");
      var infor = document.querySelector(".infor");
      var na = document.querySelector(".name");
      var age = document.querySelector(".age");
      var stren = document.querySelector(".strengths");
      var img = document.querySelector(".imag");
      var reg = /^([a-zA-Z]|[0-9])+@(qq|163)+\.(com|cn)$/;
      btn.onclick = function () {
        // console.log(img.style. backgroundImage)
        let flag = 0;
        if (reg.test(em.value)) {
          console.log("输入邮箱格式正确");
          for (let i = 0; i < msg.length; i++) {
            //分割线
            if (psd.value == msg[i].password && em.value == msg[i].email) {
              sign.style.display = "none";
              infor.style.display = "block";
              alert("登录成功");
              if (i == 0) {
                img.id = "n1";
              } else if (i == 1) {
                img.id = "n2";
              } else {
                img.id = "n3";
              }
              na.innerText = "姓名：" + msg[i].name;
              age.innerText = "年龄：" + msg[i].age;
              stren.innerText = "特长：" + msg[i].strengths;
              //分割线
            } else if (em.value != msg[i].email) {
              flag++;
              if (flag == 3) alert("该用户不存在");
            } else if (
              em.value == msg[i].email &&
              psd.value == msg[i].password
            ) {
              alert("密码错误");
            }
          }
        } else if (em.value == "" || psd.value == "") {
          alert("请输入内容");
        } else {
          alert("邮箱格式有误");
        }
      };
    </script>
  </body>
</html>
