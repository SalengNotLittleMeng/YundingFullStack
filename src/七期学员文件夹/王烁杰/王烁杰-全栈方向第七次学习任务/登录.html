<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="登录.css">
</head>

<body>
    <div class="box">
        <h1>登陆页面</h1>
        <div class="email">
            <label for="email">
                <span>邮箱:</span>
                <input type="text" id="email"><br>
            </label>
        </div>
        <div class="password">
            <label for="password">
                <span>密码:</span>
                <input type="password" id="password">
            </label>
        </div>
        <div class="tip"></div>
        <button>登录</button>
    </div>

    <div class="box2">
        <h1>登陆成功</h1>
        <div id="message">
            <p class="name"></p>
            <p class="age"></p>
            <p class="strengths"></p>
        </div>
    </div>
    <script>
        let msg = [{ name: '张三', age: 20, strengths: 'JavaScript', avatar: 'https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1', email: 'yunding@qq.com', password: 33333 },
        { name: '李四', age: 19, strengths: 'python', avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1', email: '12345678@163.com', password: 11111 },
        { name: '王五', age: 18, strengths: 'Java', avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1', email: 'yundingshuyuan@qq.cn', password: 222222 },]
        let box = document.querySelector('.box');
        let box2 = document.querySelector('.box2')
        let button = document.querySelector('button');
        let email = document.querySelector('#email');
        let password = document.querySelector('#password');
        let tips = document.querySelector('.tip');
        let message = document.querySelector('#message');
        let p = document.querySelectorAll('p');
        button.onclick = function () {
            //检验邮箱及密码是否输入
            if (email.value == "") {
                tips.textContent = "你还没有输入邮箱";
            }
            if (password.value == "") {
                tips.textContent = "你还没有输入密码！";
            }
            //正则表达式检验邮箱是否合法
            const reg = /^\w{1,}@(qq|163).(com|cn)$/;
            let result = reg.test(email.value);
            if (result == false) {
                tips.textContent = "你输入的邮箱账号不合法，请重新输入。";
            }
            console.log(email.value);
            let userFlag = false;
            for (let user of msg) {
                if (user.email == email.value) {
                    userFlag = true;
                    if (user.password != password.value) {
                        tips.textContent = "你输入的密码不正确，请重新输入。";
                    }
                    else {
                        box.style.display = "none";
                        box2.style.display = "block";
                        p[0].innerHTML = "姓名：" + user.name;
                        p[1].textContent = "年龄：" + user.age;                        p[2].textContent = "特长: " + user.strengths;
                    }
                }
                else {
                    tips.innerHTML = "该用户不存在";
                }
            }

        }
    </script>
</body>

</html>