# js之闭包

1.为什么要闭包

可以设置私有的方法与属性

- **优点**是可以避免变量的污染
- **缺点**是闭包会常驻内存，会增大内存使用量，使用不当很容易造成内存泄露。

2.依靠的原理：
js函数内部可以读取全局变量，而js函数外部并不能读取到内部的变量

3.简单例子

`function f1(){`      

  `var n = 123;`        

`return function f2(){    //f2是一个闭包`            

`alert(n)        }`            

   `}`

这样便可以从外部访问到函数内部的值了

4.闭包用途

1.读取函数内部的变量
2.让这些变量的值始终保持在内存中。不会在f1调用后被自动清除。
3.方便调用上下文的局部变量。利于代码封装。
原因：f1是f2的父函数，f2被赋给了一个全局变量，f2始终存在内存中，f2的存在依赖f1，因此f1也始终存在内存中，不会在调用结束后，被垃圾回收机制回收。

5闭包的应用场景

1.setTimeout传参

2.回调

3.封装变量

4.为节点绑定click事件













